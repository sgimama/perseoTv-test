{"ast":null,"code":"import _slicedToArray from\"/Users/sergiogimenez/Documents/prueba/perseo-tv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import md5 from'md5';import React,{useState}from'react';import{connect}from\"react-redux\";import{Link,Redirect}from'react-router-dom';import ApiRequest from\"../../services/api/Api-request\";import{Loading}from'../Loading/Loading';import'./Login.css';var Login=function Login(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];var onSubmit=function onSubmit(event){event.preventDefault();var params=new URLSearchParams();params.append(\"user\",user);params.append(\"pass\",md5(pass));params.append(\"device\",\"Web\");props.login(params);};var handleChangePass=function handleChangePass(event){setPass(event.target.value);};var handleChangeUser=function handleChangeUser(event){setUser(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"user\",id:\"user\",value:user,placeholder:\"Email\",onChange:handleChangeUser}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"pass\",id:\"pass\",value:pass,placeholder:\"Password\",onChange:handleChangePass}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]}),props.state.login.error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:props.state.login.message})]}),props.state.loading&&/*#__PURE__*/_jsx(Loading,{}),props.state.token&&/*#__PURE__*/_jsx(Redirect,{to:\"/main\"})]});};var mapStateToProps=function mapStateToProps(state){return{state:state};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(params){ApiRequest.Session.Login(params)(dispatch);}};};var connectedLogin=connect(mapStateToProps,mapDispatchToProps)(Login);export default connectedLogin;","map":{"version":3,"sources":["/Users/sergiogimenez/Documents/prueba/perseo-tv/src/components/login/Login.jsx"],"names":["md5","React","useState","connect","Link","Redirect","ApiRequest","Loading","Login","props","user","setUser","pass","setPass","onSubmit","event","preventDefault","params","URLSearchParams","append","login","handleChangePass","target","value","handleChangeUser","state","error","message","loading","token","mapStateToProps","mapDispatchToProps","dispatch","Session","connectedLogin"],"mappings":"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","sourcesContent":["import md5 from 'md5';\nimport React, { useState } from 'react'\nimport { connect } from \"react-redux\";\nimport { Link, Redirect } from 'react-router-dom';\nimport ApiRequest from \"../../services/api/Api-request\";\nimport { Loading } from '../Loading/Loading';\nimport './Login.css';\n\n\nconst Login = (props) => {\n    const [user, setUser] = useState('')\n    const [pass, setPass] = useState('')\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        const params = new URLSearchParams();\n        params.append(\"user\", user);\n        params.append(\"pass\", md5(pass));\n        params.append(\"device\", \"Web\");\n        props.login(params);\n    };\n\n    const handleChangePass = (event) => {\n        setPass(event.target.value);\n    }\n\n    const handleChangeUser = (event) => {\n        setUser(event.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <div className=\"form\">\n                <form className=\"login-form\" onSubmit={onSubmit}>\n                    <input\n                        type=\"email\"\n                        name=\"user\"\n                        id=\"user\"\n                        value={user}\n                        placeholder=\"Email\"\n                        onChange={handleChangeUser} />\n                    <input\n                        type=\"password\"\n                        name=\"pass\"\n                        id=\"pass\"\n                        value={pass}\n                        placeholder=\"Password\"\n                        onChange={handleChangePass} />\n                    <button type=\"submit\">Login</button>\n                </form>\n                {props.state.login.error &&\n                    <div className=\"error\">{props.state.login.message}</div>\n                }\n            </div>\n            { props.state.loading &&\n                <Loading />\n            }\n            { props.state.token &&\n                <Redirect to=\"/main\" />\n            }\n        </div>\n    )\n}\n\n\nconst mapStateToProps = (state) => ({ state: state });\n\nconst mapDispatchToProps = (dispatch) => ({\n    login: (params) => {\n        ApiRequest.Session.Login(params)(dispatch);\n    },\n});\n\nconst connectedLogin = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Login);\n\nexport default connectedLogin;\n"]},"metadata":{},"sourceType":"module"}