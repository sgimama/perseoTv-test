{"ast":null,"code":"import _objectSpread from\"/Users/sergiogimenez/Documents/prueba/perseo-tv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sergiogimenez/Documents/prueba/perseo-tv/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{connect}from\"react-redux\";import ApiRequest from'../../services/api/Api-request';import{Loading}from'../Loading/Loading';import{VideoCard}from'../video/VideoCard';import'./Main.css';var Main=function Main(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),videoDataSearch=_useState2[0],setVideoDataSearch=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];useEffect(function(){var params=new URLSearchParams();params.append(\"token\",props.state.token);params.append(\"device\",\"Web\");props.main(params);},[]);var handleSearch=function handleSearch(event){setSearch(event.target.value);var contentSearch=[];if(event.target.value.length>=0){props.state.contents.map(function(content){var newContent={};if(content.title.toLowerCase().includes(event.target.value.toLowerCase())){newContent=_objectSpread({},content);contentSearch.push(newContent);}});}else{contentSearch=[];}setVideoDataSearch(contentSearch);};var changeFav=function changeFav(params){props.fav(params);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"search\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search...\",value:search,onChange:handleSearch})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-grid\",children:[search.length>0?videoDataSearch.map(function(content){return/*#__PURE__*/_jsx(VideoCard,{videoData:content,changeFav:changeFav},content.id);}):props.state.contents.map(function(content){return/*#__PURE__*/_jsx(VideoCard,{videoData:content,changeFav:changeFav},content.id);}),props.state.loading&&/*#__PURE__*/_jsx(Loading,{})]})]});};var mapStateToProps=function mapStateToProps(state){return{state:state};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{main:function main(params){ApiRequest.App.Main(params)(dispatch);},fav:function fav(params){ApiRequest.App.Favorite(params)(dispatch);}};};var connectedMain=connect(mapStateToProps,mapDispatchToProps)(Main);export default connectedMain;","map":{"version":3,"sources":["/Users/sergiogimenez/Documents/prueba/perseo-tv/src/components/main/Main.jsx"],"names":["React","useEffect","useState","connect","ApiRequest","Loading","VideoCard","Main","props","videoDataSearch","setVideoDataSearch","search","setSearch","params","URLSearchParams","append","state","token","main","handleSearch","event","target","value","contentSearch","length","contents","map","content","newContent","title","toLowerCase","includes","push","changeFav","fav","id","loading","mapStateToProps","mapDispatchToProps","dispatch","App","Favorite","connectedMain"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from \"react-redux\";\nimport ApiRequest from '../../services/api/Api-request';\nimport { Loading } from '../Loading/Loading';\nimport { VideoCard } from '../video/VideoCard';\nimport './Main.css';\n\nconst Main = (props) => {\n\n    const [videoDataSearch, setVideoDataSearch] = useState([]);\n    const [search, setSearch] = useState('');\n\n    useEffect(() => {\n        const params = new URLSearchParams();\n        params.append(\"token\", props.state.token);\n        params.append(\"device\", \"Web\");\n        props.main(params);\n    }, [])\n\n    const handleSearch = (event) => {\n        setSearch(event.target.value);\n        let contentSearch = [];\n        if (event.target.value.length >= 0) {\n            props.state.contents.map(content => {\n                let newContent = {};\n                if (content.title.toLowerCase().includes(event.target.value.toLowerCase())) {\n                    newContent = {\n                        ...content\n                    }\n                    contentSearch.push(newContent)\n                }\n            })\n        } else {\n            contentSearch = [];\n        }\n        setVideoDataSearch(contentSearch);\n    }\n\n    const changeFav = (params) => {\n        props.fav(params);\n    }\n\n    return (\n\n        <div>\n            <header className=\"header\">\n                <div className=\"search\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        value={search}\n                        onChange={handleSearch} />\n                </div>\n            </header>\n            <div className=\"card-grid\">\n                {search.length > 0 ?\n                    videoDataSearch.map(content => (\n                        <VideoCard key={content.id} videoData={content} changeFav={changeFav}/>\n                    ))\n                    :\n                    props.state.contents.map(content => (\n                        <VideoCard key={content.id} videoData={content} changeFav={changeFav}/>\n                    ))\n                }\n\n                {props.state.loading &&\n                    <Loading />\n                }\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({ state: state });\n\nconst mapDispatchToProps = (dispatch) => ({\n    main: (params) => {\n        ApiRequest.App.Main(params)(dispatch);\n    },\n    fav: (params) => {\n        ApiRequest.App.Favorite(params)(dispatch);\n    }\n});\n\nconst connectedMain = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Main);\n\nexport default connectedMain;\n\n"]},"metadata":{},"sourceType":"module"}