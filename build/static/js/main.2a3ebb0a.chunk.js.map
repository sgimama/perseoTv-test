{"version":3,"sources":["services/config/Config.js","services/api/Api-request.js","components/Loading/Loading.jsx","components/login/Login.jsx","components/video/VideoCard.jsx","components/main/Main.jsx","components/video/Video.jsx","router/Router.js","App.js","services/redux/reducer.js","services/redux/store.js","index.js"],"names":["Config","ApiRequest","request","baseURL","headers","urls","LOGIN","MAIN","PLAYER","actionsTypes","LOGIN_ERROR","INIT_MAIN","LOADING","FAVORITE","Session","Login","params","dispatch","a","setLoading","res","axios","post","console","log","data","authorized","error","type","token","App","Main","contentsFavs","contents","map","content","newContent","user","favs","indexOf","id","fav","push","name","avatar","Player","url","Favorite","action","loading","Loading","className","connectedLogin","connect","state","login","props","useState","setUser","pass","setPass","onSubmit","event","preventDefault","URLSearchParams","append","md5","value","placeholder","onChange","target","message","to","VideoCard","d","src","videoData","cover","alt","title","duration","Number","Math","floor","section","class","onClick","changeFav","changeFavorite","connectedMain","main","videoDataSearch","setVideoDataSearch","search","setSearch","useEffect","contentSearch","length","toLowerCase","includes","connectedVideo","player","setUrl","match","loadVideo","autoplay","controls","Routes","path","component","exact","Video","initialState","reducer","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2a3ebb0a.chunk.js","sourcesContent":["\nconst Config = {\n    ApiRequest: {\n      request: {\n        baseURL: \"https://dev.perseo.tv/ws\",\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/x-www-form-urlencoded'\n        },\n      },\n      urls: {\n        LOGIN: \"/Login.php\",\n        MAIN: \"/GetView.php\",\n        PLAYER: \"/Play.php\"\n      },\n      actionsTypes: {\n        LOGIN: \"LOGIN\",\n        LOGIN_ERROR: \"LOGIN_ERROR\",\n        INIT_MAIN: \"INIT_MAIN\",\n        LOADING: \"LOADING\",\n        FAVORITE: 'FAVORITE'\n      },\n    },\n  };\n  \n  export default Config;\n  ","import axios from \"axios\";\nimport Config from '../config/Config';\n\nconst ApiRequest = {\n  Session: {\n    Login: (params) => {\n      return async (dispatch) => {\n        setLoading(Config.ApiRequest.actionsTypes.LOADING, dispatch);\n        let res = null;\n        try {\n          res = await axios.post(`${Config.ApiRequest.request.baseURL + Config.ApiRequest.urls.LOGIN}`, params, {\n            headers: Config.ApiRequest.request.headers\n          })\n\n        } catch (e) {\n          console.log(e);\n        } finally {\n          if (res.data.authorized && !res.data.error) {\n            dispatch({\n              type: Config.ApiRequest.actionsTypes.LOGIN,\n              data: {\n                token: res.data.token\n              }\n            });\n          } else {\n            dispatch({\n              type: Config.ApiRequest.actionsTypes.LOGIN_ERROR,\n              data: res.data\n            });\n          }\n        }\n      }\n    }\n  },\n  App: {\n    Main: (params) => {\n      return async (dispatch) => {\n        setLoading(Config.ApiRequest.actionsTypes.LOADING, dispatch);\n        let res = null;\n        let contentsFavs = [];\n        try {\n          res = await axios.post(`${Config.ApiRequest.request.baseURL + Config.ApiRequest.urls.MAIN}`, params, {\n            headers: Config.ApiRequest.request.headers\n          })\n\n\n          res.data.contents.map(content => {\n            let newContent = {};\n            if (!res.data.user.favs.indexOf(content.id)) {\n              newContent = {\n                ...content,\n                fav: true\n              }\n            } else {\n              newContent = {\n                ...content,\n                fav: false\n              }\n            }\n            contentsFavs.push(newContent)\n          })\n        } catch (e) {\n          console.log(e);\n        } finally {\n          dispatch({\n            type: Config.ApiRequest.actionsTypes.INIT_MAIN,\n            data: {\n              user: {\n                name: res.data.user.name,\n                avatar: res.data.user.avatar\n              },\n              contents: contentsFavs\n            }\n          });\n          return res.data;\n        }\n      }\n    },\n    Player: (params) => {\n      return async (dispatch) => {\n        setLoading(Config.ApiRequest.actionsTypes.LOADING, dispatch);\n        let res = null;\n        try {\n          res = await axios.post(`${Config.ApiRequest.request.baseURL + Config.ApiRequest.urls.PLAYER}`, params, {\n            headers: Config.ApiRequest.request.headers\n          })\n        } catch (e) {\n          console.log(e);\n        } finally {\n          return res.data.url;\n        }\n      }\n    },\n    Favorite: (params) => {\n      return async (dispatch) => {\n\n      dispatch({\n        type: Config.ApiRequest.actionsTypes.FAVORITE,\n        data: { \n          ...params\n        }\n      });\n      }\n    }\n  }\n}\n\nconst setLoading = (action, dispatch) => {\n  dispatch({\n    type: action,\n    data: {\n      loading: true,\n    },\n  });\n};\n\nexport default ApiRequest;","import React from 'react'\nimport './Loading.css';\n\nexport const Loading = () => {\n    return (\n            <div className=\"loading\"></div>\n    )\n}\n\n","import md5 from 'md5';\nimport React, { useState } from 'react'\nimport { connect } from \"react-redux\";\nimport { Link, Redirect } from 'react-router-dom';\nimport ApiRequest from \"../../services/api/Api-request\";\nimport { Loading } from '../Loading/Loading';\nimport './Login.css';\n\n\nconst Login = (props) => {\n    const [user, setUser] = useState('')\n    const [pass, setPass] = useState('')\n\n    const onSubmit = (event) => {\n        event.preventDefault();\n        const params = new URLSearchParams();\n        params.append(\"user\", user);\n        params.append(\"pass\", md5(pass));\n        params.append(\"device\", \"Web\");\n        props.login(params);\n    };\n\n    const handleChangePass = (event) => {\n        setPass(event.target.value);\n    }\n\n    const handleChangeUser = (event) => {\n        setUser(event.target.value);\n    }\n\n    return (\n        <div className=\"login-page\">\n            <div className=\"form\">\n                <form className=\"login-form\" onSubmit={onSubmit}>\n                    <input\n                        type=\"email\"\n                        name=\"user\"\n                        id=\"user\"\n                        value={user}\n                        placeholder=\"Email\"\n                        onChange={handleChangeUser} />\n                    <input\n                        type=\"password\"\n                        name=\"pass\"\n                        id=\"pass\"\n                        value={pass}\n                        placeholder=\"Password\"\n                        onChange={handleChangePass} />\n                    <button type=\"submit\">Login</button>\n                </form>\n                {props.state.login.error &&\n                    <div className=\"error\">{props.state.login.message}</div>\n                }\n            </div>\n            { props.state.loading &&\n                <Loading />\n            }\n            { props.state.token &&\n                <Redirect to=\"/main\" />\n            }\n        </div>\n    )\n}\n\n\nconst mapStateToProps = (state) => ({ state: state });\n\nconst mapDispatchToProps = (dispatch) => ({\n    login: (params) => {\n        ApiRequest.Session.Login(params)(dispatch);\n    },\n});\n\nconst connectedLogin = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Login);\n\nexport default connectedLogin;\n","import React from 'react'\nimport { Link } from 'react-router-dom';\nimport './VideoCard.css';\n\nexport const VideoCard = (props) => {\n\n    const secondsToHms = (d) => {\n        d = Number(d);\n        var h = Math.floor(d / 3600);\n        var m = Math.floor(d % 3600 / 60);\n        var s = Math.floor(d % 3600 % 60);\n\n        var hDisplay = h + \":\";\n        var mDisplay = m + \":\";\n        var sDisplay = s;\n        return hDisplay + mDisplay + sDisplay;\n    }\n\n    const changeFavorite = (id, action) => {\n        let params = {\n            id: id,\n            action: action\n        }\n        props.changeFav(params);\n    };\n\n    return (\n        <div className=\"card\">\n            <img src={props.videoData.cover} alt={props.videoData.title} />\n            <div className=\"card-info\">\n                <label className=\"label-gray\">Title</label>\n                <label className=\"label-black\">{props.videoData.title}</label>\n                <label className=\"label-gray\">Duration</label>\n                <label className=\"label-black\">{secondsToHms(props.videoData.duration)}</label>\n                <label className=\"label-gray\">Section</label>\n                <label className=\"label-black\"> {props.videoData.section}</label>\n                <hr />\n                <div>\n                    <Link to={`video/${props.videoData.id}`}>\n                        <i alt=\"Play video\"\n                            class=\"material-icons\">\n                            play_circle_outline\n                        </i>\n                    </Link>\n                    <Link onClick={() => changeFavorite(props.videoData.id, props.videoData.fav ? false : true)}>\n                        <i alt=\"add favorite\"\n                            class=\"material-icons\">\n                            {props.videoData.fav ? 'favorite' : 'favorite_border'}\n                        </i>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    )\n}\n/*\nconst mapStateToProps = (state) => ({ state: state });\n\nconst mapDispatchToProps = (dispatch) => ({\n    favorite: (params) => {\n        ApiRequest.Session.Favorite(params)(dispatch);\n    },\n});\n\nconst connectedVideoCard = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(VideoCard);\n\nexport default connectedVideoCard;*/","import React, { useEffect, useState } from 'react';\nimport { connect } from \"react-redux\";\nimport ApiRequest from '../../services/api/Api-request';\nimport { Loading } from '../Loading/Loading';\nimport { VideoCard } from '../video/VideoCard';\nimport './Main.css';\n\nconst Main = (props) => {\n\n    const [videoDataSearch, setVideoDataSearch] = useState([]);\n    const [search, setSearch] = useState('');\n\n    useEffect(() => {\n        const params = new URLSearchParams();\n        params.append(\"token\", props.state.token);\n        params.append(\"device\", \"Web\");\n        props.main(params);\n    }, [])\n\n    const handleSearch = (event) => {\n        setSearch(event.target.value);\n        let contentSearch = [];\n        if (event.target.value.length >= 0) {\n            props.state.contents.map(content => {\n                let newContent = {};\n                if (content.title.toLowerCase().includes(event.target.value.toLowerCase())) {\n                    newContent = {\n                        ...content\n                    }\n                    contentSearch.push(newContent)\n                }\n            })\n        } else {\n            contentSearch = [];\n        }\n        setVideoDataSearch(contentSearch);\n    }\n\n    const changeFav = (params) => {\n        props.fav(params);\n    }\n\n    return (\n\n        <div>\n            <header className=\"header\">\n                <div className=\"search\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search...\"\n                        value={search}\n                        onChange={handleSearch} />\n                </div>\n            </header>\n            <div className=\"card-grid\">\n                {search.length > 0 ?\n                    videoDataSearch.map(content => (\n                        <VideoCard key={content.id} videoData={content} changeFav={changeFav}/>\n                    ))\n                    :\n                    props.state.contents.map(content => (\n                        <VideoCard key={content.id} videoData={content} changeFav={changeFav}/>\n                    ))\n                }\n\n                {props.state.loading &&\n                    <Loading />\n                }\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => ({ state: state });\n\nconst mapDispatchToProps = (dispatch) => ({\n    main: (params) => {\n        ApiRequest.App.Main(params)(dispatch);\n    },\n    fav: (params) => {\n        ApiRequest.App.Favorite(params)(dispatch);\n    }\n});\n\nconst connectedMain = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Main);\n\nexport default connectedMain;\n\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport ReactHlsPlayer from 'react-hls-player';\nimport { connect } from \"react-redux\";\nimport ApiRequest from '../../services/api/Api-request';\nimport Config from '../../services/config/Config';\nimport './Video.css';\n\n\nexport const Video = (props) => {\n    //let url;\n    const [url, setUrl] = useState('')\n\nasync function loadVideo(){\n    const params = new URLSearchParams();\n    params.append(\"token\", props.state.token);\n    params.append(\"device\", \"Web\");\n    params.append(\"id\", props.match.params.id);\n    let res = null;\n    try {\n      res = await axios.post(`${Config.ApiRequest.request.baseURL + Config.ApiRequest.urls.PLAYER}`, params, {\n        headers: Config.ApiRequest.request.headers\n      })\n      \n\n    } catch (e) {\n      console.log(e);\n    } finally {\n    \n      setUrl(res.data.url);\n    }\n\n}\n\n\n    useEffect(() => {\n        loadVideo()\n    }, [])\n\n    return (\n        <div >\n            <ReactHlsPlayer className=\"video\"\n              url={url}\n              autoplay={false}\n              controls={true}\n          />\n        </div>\n    )\n}\nconst mapStateToProps = (state) => ({ state: state });\n      \nconst mapDispatchToProps = (dispatch) => ({\n    player: (params) => {\n    ApiRequest.App.Player(params)(dispatch);\n  },\n});\n\nconst connectedVideo = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Video);\n\nexport default connectedVideo;","import { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport React from \"react\";\n// Components\nimport Login from \"../components/login/Login\";\nimport Main from \"../components/main/Main\";\nimport Video from \"../components/video/Video\";\n\n\n/**\n * Raoutes of App\n */\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <div>\n          <Switch>\n            <Route path='/' component={Login} exact />\n            <Route path='/main' component={Main} exact />\n            <Route path='/video/:id' component={Video} exact />\n            <Route component={Login} />\n          </Switch>\n      </div>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport './App.css';\n\n// Router\nimport Routes from \"./router/Router\";\n\nfunction App(props) {\n  return  <Routes />;\n}\nexport default App;\n\n\n","import Config from \"../config/Config\";\n\nconst initialState = {\n    user: {},\n    contents: [],\n    login: {},\n    token: '',\n    loading: false\n};\n\nfunction reducer(state = initialState, {type, data}) {\n    switch (type) {\n        case Config.ApiRequest.actionsTypes.LOGIN:           \n            return {\n                ...state,\n                token: data.token,\n                loading: false,\n            };\n        case Config.ApiRequest.actionsTypes.LOGIN_ERROR:           \n            return {\n                ...state,\n                login: data,\n                loading: false,\n            };\n        case Config.ApiRequest.actionsTypes.INIT_MAIN:\n            return {\n                ...state,\n                contents: data.contents,\n                user: data.user,\n                loading: false,\n            };\n        case Config.ApiRequest.actionsTypes.LOADING:\n            return {\n                ...state,\n                loading: data.loading\n            };\n        case Config.ApiRequest.actionsTypes.FAVORITE:\n            let newContent = changeFavorite(data, state)\n            return {\n               ...state,\n               contents: newContent,\n            };\n        default:\n            return state;\n    }\n}\n\nfunction changeFavorite(params, state){\n    let contentsFavs = []\n    state.contents.map(content => {\n        let newContent = {};\n        if (!content.id.indexOf(params.id)) {\n          newContent = {\n            ...content,\n            fav: params.action\n          }\n        }else{\n            newContent = {\n                ...content,\n              }\n        }\n        contentsFavs.push(newContent)\n      })\n      return contentsFavs\n}\n\nexport default reducer;\n","import {createStore} from 'redux';\nimport reducer from './reducer';\n\nconst store = createStore(reducer);\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux';\nimport store from './services/redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}